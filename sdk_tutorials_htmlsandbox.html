<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Using Tag Sandbox for Custom HTML | Matterport Developers</title>
<link rel="stylesheet" href="/showcase-sdk/css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="/showcase-sdk/css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="/showcase-sdk/css/customstyles.css">
<link rel="stylesheet" href="/showcase-sdk/css/custom.css">
<link rel="stylesheet" href="/showcase-sdk/css/tags2.css">

<link rel="stylesheet" href="/showcase-sdk/css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="/showcase-sdk/css/theme-matterport.css">
<link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,700&display=swap" rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/showcase-sdk/js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="/showcase-sdk/js/toc.js"></script>
<script src="/showcase-sdk/js/customscripts.js"></script>
<script src="/showcase-sdk/js/mermaid.min.js"></script>

<link rel="shortcut icon" href="/showcase-sdk/images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="showcase-sdk" href="https://matterport.github.iofeed.xml">

    <script>
      $(document).ready(function () {
        // Initialize navgoco with default options
        $("#mysidebar").navgoco({
          caretHtml: '<i class="fa fa-chevron-down"></i>',
          accordion: true,
          openClass: "active", // open

          save: false, // leave false or nav highlighting doesn't work right
          cookie: {
            name: "navgoco",
            expires: false,
            path: "/",
          },
          slide: {
            duration: 400,
            easing: "swing",
          },
        });

        $("#collapseAll").click(function (e) {
          e.preventDefault();
          $("#mysidebar").navgoco("toggle", false);
        });

        $("#expandAll").click(function (e) {
          e.preventDefault();
          $("#mysidebar").navgoco("toggle", true);
        });
      });
    </script>
    <script>
      $(function () {
        $('[data-toggle="tooltip"]').tooltip();
      });
    </script>
    <script>
      $(document).ready(function () {
        $("#tg-sb-link").change(function () {
          $("#tg-sb-sidebar").toggle();
          $("#tg-sb-content").toggleClass("col-md-9");
          $("#tg-sb-content").toggleClass("col-md-12");
        });
      });
    </script>
     
  </head>
  <body>
    <!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
  <div>
    <div class="row">
      <a class="navbrand col-md-3" href="index.html"
        >&nbsp;<img
          class="navbar-image"
          src="/showcase-sdk/images/MP-logo_H_lock-RGB_white.svg"
        /><span class="projectTitle"> </span></a
      >
      <div class="dev-nav-links col-md-6">
        <div class="dropdown-items">
          <div class="dropdown ">
            <a class="dropbtn active" href="index.html">SDK Docs</a>
            <div class="dropdown-content">
              <a href="sdk_home.html" class="">SDK for Embeds</a>
              <a href="sdkbundle_home.html" class="" href="#">SDK Bundle</a>
              <a href="earlyaccess_home.html" class="" href="#">SDK Early Access</a>
            </div>
          </div>
          <div class="dropdown">
            <a class="dropbtn" href="api_home.html">API Docs</a>
            <div class="dropdown-content">
              <a href="api_home.html">API Overview</a>
              <a href="https://api.matterport.com/docs/reference" target="_blank">API Reference</a>
              <a href="https://api.matterport.com/model/graphiql" target="_blank">Interactive Console</a>
            </div>
          </div>
          <div class="dropdown">
            <a class="dropbtn" href="https://matterport.com/legal/platform-subscription-agreement#sdk-terms" target="_blank">Terms</a>
          </div>
          <div class="dropdown">
            <a class="dropbtn" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:developer@matterport.com?subject=Showcase SDK feedback&body=I have some feedback about the Using Tag Sandbox for Custom HTML page: ' + window.location.href;">Feedback</a>
          </div>
          <div class="dropdown">
            <a class="dropbtn" href="https://matterport.github.io/showcase-sdk/subscribe.html" >
              Subscribe
              <sup class="subscribe-sup" style="font-size: 10px; color: #ff3158">New</sup>
            </a>
          </div>
        </div>
      </div>
      <div class="right-content col-md-3">
        <div class="dev-input-container">
          <!-- Add roboto font to search bar -->
          <img src="/showcase-sdk/images/search_button.png" />
          <input id="search-input" type="text" placeholder="Search"/>
          <div id="results-container"></div>        
        </div>
      </div>
    </div>
  </div>
  <!-- /.container -->
</nav>
 
    <!-- Page Content -->
    <div class="dev-page-wrapper">
      <div id="main">
        <!-- Content Row -->
        <div class="row">
          <!-- Sidebar Column -->
          
          <aside class="col-md-3" id="tg-sb-sidebar">
            
<div id="mysidebar" class="nav">
  
  
  

  <li>
      <a title="Overview" href="#">Overview</a>
      <ul>
          
          
          
          <li><a title="Home" href="/showcase-sdk/index.html">Home</a></li>
          
          
          
          
          
          
          <li><a title="Change Log" href="/showcase-sdk/sdk_changelog.html">Change Log</a></li>
          
          
          
          
          
          
          <li><a title="Vocabulary" href="/showcase-sdk/sdk_vocabulary.html">Vocabulary</a></li>
          
          
          
          
          
          
          <li><a title="Concepts" href="/showcase-sdk/sdk_concepts.html">Concepts</a></li>
          
          
          
          
          
          
          <li><a title="Reference Docs Summary" href="/showcase-sdk/sdk_reference_summary.html">Reference Docs Summary</a></li>
          
          
          
          
          
          
          <li><a title="Reference Documentation" href="/showcase-sdk/docs\reference\current\index.html">Reference Documentation</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="SDK for Embeds" href="#">SDK for Embeds</a>
      <ul>
          
          
          
          <li><a title="Home" href="/showcase-sdk/sdk_home.html">Home</a></li>
          
          
          
          
          
          
          <li><a title="HTML Quick Start" href="/showcase-sdk/sdk_quickstart.html">HTML Quick Start</a></li>
          
          
          
          
          
          
          <li><a title="SDK Embed Package" href="/showcase-sdk/sdk_tutorials_package.html">SDK Embed Package</a></li>
          
          
          
          
          
          
          <li><a title="Typescript Declarations" href="/showcase-sdk/sdk_types.html">Typescript Declarations</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="SDK Bundle" href="#">SDK Bundle</a>
      <ul>
          
          
          
          <li><a title="Home" href="/showcase-sdk/sdkbundle_home.html">Home</a></li>
          
          
          
          
          
          
          <li><a title="HTML Quick Start" href="/showcase-sdk/sdkbundle_quickstart.html">HTML Quick Start</a></li>
          
          
          
          
          
          
          <li><a title="Setting up Embed.ly" href="/showcase-sdk/sdkbundle_tutorials_setting_up_embedly.html">Setting up Embed.ly</a></li>
          
          
          
          
          
          
          <li><a title="Setup a Local Environment" href="/showcase-sdk/sdkbundle_tutorials_setup.html">Setup a Local Environment</a></li>
          
          
          
          
          
          
          <li><a title="Architecture" href="/showcase-sdk/sdkbundle_architecture.html">Architecture</a></li>
          
          
          
          <li class="subfolders">
              <a title="Components" href="#">Components</a>
              <ul>
                  
                  
                  
                  <li><a title="Ambient Light" href="/showcase-sdk/sdkbundle_components_ambientlight.html">Ambient Light</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Directional Light" href="/showcase-sdk/sdkbundle_components_directionallight.html">Directional Light</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Point Light" href="/showcase-sdk/sdkbundle_components_pointlight.html">Point Light</a></li>
                  
                  
                  
                  
                  
                  <li><a title="GLTF Loader" href="/showcase-sdk/sdkbundle_components_gltfloader.html">GLTF Loader</a></li>
                  
                  
                  
                  
                  
                  <li><a title="DAE Loader" href="/showcase-sdk/sdkbundle_components_daeloader.html">DAE Loader</a></li>
                  
                  
                  
                  
                  
                  <li><a title="FBX Loader" href="/showcase-sdk/sdkbundle_components_fbxloader.html">FBX Loader</a></li>
                  
                  
                  
                  
                  
                  <li><a title="OBJ Loader" href="/showcase-sdk/sdkbundle_components_objloader.html">OBJ Loader</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Transform Controls" href="/showcase-sdk/sdkbundle_components_transformcontrols.html">Transform Controls</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Input" href="/showcase-sdk/sdkbundle_components_input.html">Input</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Camera" href="/showcase-sdk/sdkbundle_components_camera.html">Camera</a></li>
                  
                  
                  
                  
                  
                  <li><a title="XR" href="/showcase-sdk/sdkbundle_components_xr.html">XR</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="SDK Early Access" href="#">SDK Early Access</a>
      <ul>
          
          
          
          <li><a title="Home" href="/showcase-sdk/earlyaccess_home.html">Home</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="SDK Tutorials" href="#">SDK Tutorials</a>
      <ul>
          
          
          
          <li><a title="SDK Embed Package" href="/showcase-sdk/sdk_tutorials_package.html">SDK Embed Package</a></li>
          
          
          
          
          
          
          <li><a title="Using Observables" href="/showcase-sdk/sdk_tutorials_observables.html">Using Observables</a></li>
          
          
          
          
          
          
          <li><a title="Using Collections" href="/showcase-sdk/sdk_tutorials_collections.html">Using Collections</a></li>
          
          
          
          <li class="subfolders">
              <a title="Using the Scene Namespace" href="#">Using the Scene Namespace</a>
              <ul>
                  
                  
                  
                  <li><a title="Intro and Basic Components" href="/showcase-sdk/sdk_scene_intro.html">Intro and Basic Components</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Connecting Components" href="/showcase-sdk/sdk_connecting_components.html">Connecting Components</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
          
          
          <li><a title="Creating Mattertags" href="/showcase-sdk/sdk_creating_mattertags.html">Creating Mattertags</a></li>
          
          
          
          
          
          
          <li><a title="Editing Mattertags" href="/showcase-sdk/sdk_editing_mattertags.html">Editing Mattertags</a></li>
          
          
          
          
          
          
          <li><a title="Tags 2.0 Migration" href="/showcase-sdk/sdk_tutorials_mattertagtotag.html">Tags 2.0 Migration</a></li>
          
          
          
          
          
          
          <li class="active"><a title="Tags Code Sandboxes" href="/showcase-sdk/sdk_tutorials_htmlsandbox.html">Tags Code Sandboxes</a></li>
          
          
          
          
          
          
          <li><a title="Pathfinding" href="/showcase-sdk/sdk_tutorials_pathfinding.html">Pathfinding</a></li>
          
          
          
          
          
          
          <li><a title="Pointer Reticle" href="/showcase-sdk/sdk_tutorials_cursor.html">Pointer Reticle</a></li>
          
          
          
          
          
          
          <li><a title="Working with Models" href="/showcase-sdk/sdkbundle_tutorials_models.html">Working with Models</a></li>
          
          
          
          
          
          
          <li><a title="Using xr" href="/showcase-sdk/sdkbundle_tutorials_using_xr.html">Using xr</a></li>
          
          
          
          
          
          
          <li><a title="Using Scene Objects" href="/showcase-sdk/sdkbundle_tutorials_using_scene_objects.html">Using Scene Objects</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="SDK Examples" href="#">SDK Examples</a>
      <ul>
          
          
          
          <li><a title="Navigation Controls" href="/showcase-sdk/sdk_navigation_controls.html">Navigation Controls</a></li>
          
          
          
          
          
          
          <li><a title="Intersection Inspector" href="/showcase-sdk/sdk_intersection_inspector.html">Intersection Inspector</a></li>
          
          
          
          
          
          
          <li><a title="Tags Quiz" href="/showcase-sdk/sdk_tags_quiz.html">Tags Quiz</a></li>
          
          
          
          
          
          
          <li><a title="Tags Quiz - Overlay" href="/showcase-sdk/sdk_tags_quiz_overlay.html">Tags Quiz - Overlay</a></li>
          
          
          
          
          
          
          <li><a title="Kitchen Sink" href="/showcase-sdk/sdk_kitchen_sink.html">Kitchen Sink</a></li>
          
          
          
          
          
          
          <li><a title="Remote Control" href="/showcase-sdk/sdk_remote_control.html">Remote Control</a></li>
          
          
          
          
          
          
          <li><a title="Sensors - Source Areas" href="/showcase-sdk/sdk_sensors_source_areas.html">Sensors - Source Areas</a></li>
          
          
          
          
          
          
          <li><a title="Sensors - Tags Level of Detail" href="/showcase-sdk/sdk_sensors_tags_level_of_detail.html">Sensors - Tags Level of Detail</a></li>
          
          
          
          
          
          
          <li><a title="Sensors - Sweep Control" href="/showcase-sdk/sdk_sensors_sweep_control.html">Sensors - Sweep Control</a></li>
          
          
          
          
          
          
          <li><a title="Virtual Staging" href="/showcase-sdk/sdkbundle_virtual_staging.html">Virtual Staging</a></li>
          
          
          
          
          
          
          <li><a title="Local Webcam" href="/showcase-sdk/sdkbundle_local_webcam.html">Local Webcam</a></li>
          
          
          
          
          
          
          <li><a title="HTML Livestream" href="/showcase-sdk/sdkbundle_html_livestream.html">HTML Livestream</a></li>
          
          
          
          
          
          
          <li><a title="IoT Canvas" href="/showcase-sdk/sdkbundle_iot_canvas.html">IoT Canvas</a></li>
          
          
          
          
          
          
          <li><a title="Custom Experience" href="/showcase-sdk/sdkbundle_custom_experience.html">Custom Experience</a></li>
          
          
          
          
          
          
          <li><a title="Security Camera FOV" href="/showcase-sdk/sdkbundle_security_camera.html">Security Camera FOV</a></li>
          
          
          
          
          
          
          <li><a title="Content Attribution" href="/showcase-sdk/sdkbundle_content_attribution.html">Content Attribution</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="Matterport APIs" href="#">Matterport APIs</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/showcase-sdk/api_home.html">Overview</a></li>
          
          
          
          
          
          
          <li><a title="Reference Docs" href="https://api.matterport.com/model/docs/reference" target="_blank" rel="noopener">Reference Docs</a></li>
          
          
          
          
          
          
          <li><a title="Interactive Console" href="https://api.matterport.com/model/graphiql" target="_blank" rel="noopener">Interactive Console</a></li>
          
          
          
          <li class="subfolders">
              <a title="Model API" href="#">Model API</a>
              <ul>
                  
                  
                  
                  <li><a title="Changelog" href="/showcase-sdk/modelapi_changelog.html">Changelog</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Models Queries" href="/showcase-sdk/modelapi_models_ref.html">Models Queries</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Sample Queries" href="/showcase-sdk/modelapi_snippets.html">Sample Queries</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Ordering Add-Ons" href="/showcase-sdk/modelapi_ordering_addons.html">Ordering Add-Ons</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Views and Layers" href="/showcase-sdk/modelapi_views_and_layers.html">Views and Layers</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Tags Icon Reference" href="/showcase-sdk/tags_icons_reference.html">Tags Icon Reference</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Postman Collection" href="/showcase-sdk/modelapi_postman.html">Postman Collection</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          <li class="subfolders">
              <a title="Property Intelligence" href="#">Property Intelligence</a>
              <ul>
                  
                  
                  
                  <li><a title="Overview" href="/showcase-sdk/modelapi_property_intelligence.html">Overview</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Dimension Estimates" href="/showcase-sdk/modelapi_pi_dimension_estimates.html">Dimension Estimates</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Room Names" href="/showcase-sdk/modelapi_pi_room_names.html">Room Names</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Vector Data" href="/showcase-sdk/modelapi_pi_vector_data.html">Vector Data</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Mutations" href="/showcase-sdk/modelapi_pi_mutations.html">Mutations</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          <li class="subfolders">
              <a title="Account API" href="#">Account API</a>
              <ul>
                  
                  
                  
                  <li><a title="Account API Changelog" href="/showcase-sdk/accountapi_changelog.html">Account API Changelog</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Sample Queries" href="/showcase-sdk/accountapi_snippets.html">Sample Queries</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="OAuth" href="#">OAuth</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/showcase-sdk/oauth_home.html">Overview</a></li>
          
          
          
          
          
          
          <li><a title="Implementation" href="/showcase-sdk/oauth_implementation.html">Implementation</a></li>
          
          
          
          
          
          
          <li><a title="Model Selector" href="/showcase-sdk/oauth_model_selector.html">Model Selector</a></li>
          
          
          
          
          
          
          <li><a title="Use Case - Model API" href="/showcase-sdk/oauth_model_api.html">Use Case - Model API</a></li>
          
          
          
          
          
          
          <li><a title="Use Case - Private Models" href="/showcase-sdk/oauth_sdk_private_model.html">Use Case - Private Models</a></li>
          
          
          
          
          
          
          <li><a title="OAuth Sample Application" href="/showcase-sdk/sdkbundle_tutorials_using_oauth.html">OAuth Sample Application</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="Private Model Embed" href="#">Private Model Embed</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/showcase-sdk/oauth_private_model_embed.html">Overview</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="Webhooks" href="#">Webhooks</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/showcase-sdk/webhooks_home.html">Overview</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="Learn More" href="#">Learn More</a>
      <ul>
          
          
          
          <li><a title="Developer Tools Overview" href="https://support.matterport.com/s/article/API-SDK-Developer-Tools-Overview" target="_blank" rel="noopener">Developer Tools Overview</a></li>
          
          
          
          
          
          
          <li><a title="Pricing and Availability" href="https://support.matterport.com/s/article/Developer-Tools-Pricing-and-Availability" target="_blank" rel="noopener">Pricing and Availability</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</div>
<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>
<script src="/showcase-sdk/js/jekyll-search.js" type="text/javascript"></script>
<script type="text/javascript">
        SimpleJekyllSearch.init({
            searchInput: document.getElementById('search-input'),
            resultsContainer: document.getElementById('results-container'),
            dataSource: '/showcase-sdk/search.json',
            searchResultTemplate: '<li><a href="{url}" title="Using Tag Sandbox for Custom HTML">{title}</a></li>',
noResultsText: '<li><div>No results found.<div></li>',
        limit: 10,
        fuzzy: true,
})
</script>

          </aside>
           
          <!-- Content Column -->
          <div
            class=" col-md-9" 
            id="tg-sb-content"
          >
            <div class="post-header">
   <h1 class="post-title-main">Using Tag Sandbox for Custom HTML</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

   <h2 id="what-are-code-sandboxes">What are Code Sandboxes</h2>
<p>A code sandbox is a secure, isolated environment (i.e. iframe) that we provide to display custom HTML. The sandbox can also run Javascript with some exceptions.</p>

<p>The sandbox cannot access things in any other windows and only has the ‘allow-javascript’ flag and cannot submit forms, initiate downloads, etc (<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe#attr-sandbox">see MDN’s sandbox restrictions</a>).</p>

<p>To get around these restrictions, it is possible to send data into and out of the sandbox to your SDK application as long as they can be cloned using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm">structured-clone algorithm</a>.</p>

<h3 id="terminology">Terminology</h3>
<p><strong>SDK Application</strong>: The application that embeds and interacts with Showcase through the SDK.<br />
<strong>Sandbox</strong>: The (iframe) environment that will run custom Javascript and display custom HTML.<br />
<strong>Attachment</strong>: Any type of media that can be attached to a tag, e.g. images, videos, code sandboxes.<br />
<strong>Messenger</strong>: The mechanism to get data into and out of a sandbox.<br /></p>

<h2 id="creating-a-sandbox-attachment">Creating a Sandbox Attachment</h2>
<p>Sandboxes are treated similar to any other attachment. They can be registered, attached, and detached at any time.</p>

<h4 id="hello-world-sandbox">Hello World Sandbox</h4>
<p>To start, we will create a simple “Hello World” sandbox to show a custom message, style it, and attach it to a Tag.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// create a tag</span>
<span class="kd">const</span> <span class="p">[</span><span class="nx">tagId</span><span class="p">]</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">add</span><span class="p">({</span>
  <span class="na">label</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Test Tag</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">anchorPosition</span><span class="p">:</span> <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="na">z</span><span class="p">:</span> <span class="mi">0</span> <span class="p">},</span>
  <span class="na">stemVector</span><span class="p">:</span> <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="na">z</span><span class="p">:</span> <span class="mi">0</span> <span class="p">},</span>
<span class="p">});</span>

<span class="c1">// register a static sandbox</span>
<span class="kd">const</span> <span class="p">[</span><span class="nx">sandboxId</span><span class="p">]</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">registerSandbox</span><span class="p">(</span><span class="s2">`
&lt;style&gt;
body {
  color: #fff;
  background-color: #000;
}
&lt;/style&gt;
Hello, Sandbox!
`</span><span class="p">);</span>

<span class="c1">// associate (attach) the sandbox to the tag</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">tagId</span><span class="p">,</span> <span class="nx">sandboxId</span><span class="p">);</span>
</code></pre></div></div>

<p>Now, when the tag is opened, it should display a simple “Hello World” message in white text on a black background.</p>

<p><img src="images/tags/hellosandbox.png" /></p>

<p>It is, of course, completely possible to set the background to have 0 opacity <code class="language-plaintext highlighter-rouge">rgba(0, 0, 0, 0)</code> or to <code class="language-plaintext highlighter-rouge">#222</code> to match the rest of the tag’s background color, but for the sake of these demos and showing the afforded region, it stands out with a completely opaque, black background.</p>

<h4 id="adding-interactivity">Adding Interactivity</h4>
<p>Sandbox attachments are much more capable than just displaying static HTML. It is also possible to execute scripts within the sandbox.</p>

<p>To implement a counter that increments as we click a button, we can add a script tag to our custom HTML that will get the elements and add calbacks or mutate them.</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// register an interactive sandbox</span>
<span class="kd">const</span> <span class="p">[</span><span class="nx">attachmentId</span><span class="p">]</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">registerSandbox</span><span class="p">(</span><span class="s2">`
&lt;style&gt;
body {
  color: #fff;
  background-color: rgba(0, 0, 0, 0);
}
&lt;/style&gt;

&lt;button id='inc'&gt;INCREMENT&lt;/button&gt;
&lt;div id='output'&gt;No clicks yet&lt;/div&gt;

&lt;script&gt;
  const incrementor = document.getElementById('inc');
  const output = document.getElementById('output');
  let clicks = 0;
  incrementor.addEventListener('click', () =&gt; {
    ++clicks;
    output.innerHTML = </span><span class="se">\`</span><span class="s2">Clicks: </span><span class="se">\$</span><span class="s2">{clicks}</span><span class="se">\`</span><span class="s2">;
  });
&lt;/script&gt;
`</span><span class="p">)</span>

<span class="c1">// using the `tagId` from the previous example</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">tagId</span><span class="p">,</span> <span class="nx">attachmentId</span><span class="p">);</span>
</code></pre></div></div>

<p>Opening the tag should display a button with a counter that increments as the button is clicked.
<strong>Note</strong>: state is not persisted as the tag is closed, and subsequently the sandbox being torn down, and reopened, and the sandbox being re-instantiated. In this example, the counter will reset to 0 if the tag is closed.</p>

<p><img src="images/tags/counter.png" /></p>

<h4 id="communicating-with-the-sandbox">Communicating with the Sandbox</h4>
<p>Since sandbox environments are so heavily restricted, for security reasons, we return an <a href="docs/reference/current/interfaces/tag.imessenger.html"><code class="language-plaintext highlighter-rouge">IMessenger</code></a> object when registering a sandbox.</p>

<p>All sandboxes have a global <code class="language-plaintext highlighter-rouge">send</code>, <code class="language-plaintext highlighter-rouge">on</code>, and <code class="language-plaintext highlighter-rouge">off</code> function.<br />
The messenger object also has a <code class="language-plaintext highlighter-rouge">send</code>, <code class="language-plaintext highlighter-rouge">on</code>, and <code class="language-plaintext highlighter-rouge">off</code> function.<br />
These are the mechanism available to move data between an SDK application and a sandbox.</p>

<p>Up until now, we have only been using the <code class="language-plaintext highlighter-rouge">attachmentId</code> returned by <code class="language-plaintext highlighter-rouge">registerSandbox</code>. The second object returned is the messenger.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// register the attachment and get a reference to its messenger</span>
<span class="kd">const</span> <span class="p">[</span><span class="nx">attachmentId</span><span class="p">,</span> <span class="nx">messenger</span><span class="p">]</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">registerSandbox</span><span class="p">(</span><span class="s2">`
&lt;!-- don't forget styling --&gt;
&lt;button id='add'&gt;Add to Cart&lt;/button&gt;

&lt;script&gt;
const productId = 12345;
const quantity = 1;
const add = document.getElementById('add');
add.addEventListener('click', () =&gt; {
  // send an 'add.to.cart' message out to the SDK application with some data
  window.send('add.to.cart', productId, quantity);
});

// receive a 'product.added' message from the SDK application
window.on('product.added', () =&gt; {
  add.innerHTML = 'Added to cart √';
  add.style.color = 'green';
});
&lt;/script&gt;
`</span><span class="p">);</span>

<span class="c1">// add a handler for the 'add.to.cart' message that will come from the sandbox</span>
<span class="nx">messenger</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">add.to.cart</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">productId</span><span class="p">,</span> <span class="nx">quantity</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// do some work</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`adding </span><span class="p">${</span><span class="nx">quantity</span><span class="p">}</span><span class="s2">x of </span><span class="p">${</span><span class="nx">productId</span><span class="p">}</span><span class="s2"> to cart`</span><span class="p">);</span>
  <span class="c1">// send a 'product.added' message back to the sandbox</span>
  <span class="nx">messenger</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">product.added</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// finally, attach the sandbox to the tag using `tagId` from previous examples</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">tagId</span><span class="p">,</span> <span class="nx">attachmentId</span><span class="p">);</span>
</code></pre></div></div>

<p>Opening this tag will show a button that communicates to an SDK application that some quantity of a product should be added to a shopping cart when clicked. The SDK application then sends a message back confirming it has added the product which subsequently updates the button in the sandbox.</p>
<div style="display: inline-block; padding-right: 40px;">
  <img style="display: block;" src="images/tags/addtocart.png" />
  (Initial sandbox state)<br />&nbsp;
</div>
<div style="display: inline-block;">
  <img style="display: block;" src="images/tags/added.png" />
  (After receiving the 'product.added' message <br />from the SDK application)
</div>

<p><br />
The data sent between the SDK application and sandbox don’t need to be simple strings or numbers and can be any object or type that can be cloned via the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm">structured-clone algorithm</a>. It’s also possible to send any number of arguments as needed, not just 2 or 0 as in the example, that will act as arguments to the callbacks added with the <code class="language-plaintext highlighter-rouge">on</code> functions.</p>

<h4 id="persisting-or-setting-initial-state">Persisting or Setting Initial State</h4>
<p>As previously mentioned, state of the sandbox is not persisted as it is unmounted and remounted. We can mimic an “initialization” lifecycle using custom messages and listeners.</p>

<p>Upon mounting the sandbox, we will have it send an <code class="language-plaintext highlighter-rouge">'init'</code> message, have our app listen for it and send its own <code class="language-plaintext highlighter-rouge">'initial.state'</code> message which the sandbox will listen for. We also add <code class="language-plaintext highlighter-rouge">'current.state'</code> messages to save the current state of the sandbox in our app.</p>

<p>To demonstrate this, we will slightly modify our “counter” example and persist the number of clicks done.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">[</span><span class="nx">attachmentId</span><span class="p">,</span> <span class="nx">messenger</span><span class="p">]</span> <span class="o">=</span> <span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">registerSandbox</span><span class="p">(</span><span class="s2">`
&lt;button id='inc'&gt;INCREMENT&lt;/button&gt;
&lt;div id='output'&gt;No clicks yet&lt;/div&gt;

&lt;script&gt;
  const incrementor = document.getElementById('inc');
  const output = document.getElementById('output');

  // the initial state of the sandbox
  let state = {
    clicks: 0,
  };

  // add a handler to increment the click state
  incrementor.addEventListener('click', () =&gt; {
    ++state.clicks;
    output.innerHTML = </span><span class="se">\`</span><span class="s2">Clicks: </span><span class="se">\$</span><span class="s2">{state.clicks}</span><span class="se">\`</span><span class="s2">;
    // tell our app that we have updated our state
    window.send('current.state', state);
  });

  // add a handler to receive the persisted state and update the sandbox's state
  window.on('initial.state', (initialState) =&gt; {
    state.clicks = initialState.clicks;
    output.innerHTML = </span><span class="se">\`</span><span class="s2">Clicks: </span><span class="se">\$</span><span class="s2">{state.clicks}</span><span class="se">\`</span><span class="s2">;
  });

  // finally, tell our app that we have mounted the sandbox
  window.send('init');
&lt;/script&gt;
`</span><span class="p">);</span>

<span class="c1">// the initial representation of the state in the sandbox</span>
<span class="kd">let</span> <span class="nx">sandboxState</span> <span class="o">=</span> <span class="p">{</span> <span class="na">clicks</span><span class="p">:</span> <span class="mi">0</span> <span class="p">};</span>
<span class="c1">// add a handler for the sandbox's 'init' "lifecycle"</span>
<span class="nx">messenger</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">init</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// send the persisted state of the sandbox to set the state of the sandbox</span>
  <span class="c1">// unfortunately, when the sandbox is mounted it isn't immediately ready to receive messages so we need to timeout to delay the message just enough (this will likely change in future updates)</span>
  <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">messenger</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">initial.state</span><span class="dl">'</span><span class="p">,</span> <span class="nx">sandboxState</span><span class="p">));</span>
<span class="p">});</span>

<span class="c1">// add a handler to update our representation of the sandbox's state</span>
<span class="nx">messenger</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">current.state</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">currentState</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">sandboxState</span><span class="p">.</span><span class="nx">clicks</span> <span class="o">=</span> <span class="nx">currentState</span><span class="p">.</span><span class="nx">clicks</span><span class="p">;</span>
<span class="p">});</span>

<span class="c1">// finally, attach the sandbox to the tag, reusing the same `tagId` as before</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">tagId</span><span class="p">,</span> <span class="nx">attachmentId</span><span class="p">)</span>
</code></pre></div></div>

<p>The key here is to create serializable representations of the sandbox’s state both inside and outside of the sandbox, tell the SDK application that the state has changed, and feed that state back to the sandbox as it gets remounted. Unfortunately, at this time, a message sent too soon after the remount may not be received by the sandbox, so a slight delay is necessary. This will likely be resolved in a future update.</p>

<div style="display: inline-block; padding-right: 40px;">
  <img style="display: block;" src="images/tags/persiststate.png" />
  (The initial state of the sandbox should be set each time it mounts)
</div>

<h4 id="identifying-the-sandbox">Identifying the Sandbox</h4>
<p>Because each sandbox is treated just as an attachment, it can be attached to multiple tags at the same time.</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">[</span><span class="nx">attachmentId</span><span class="p">,</span> <span class="nx">messenger</span><span class="p">]</span> <span class="o">=</span> <span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">registerSandbox</span><span class="p">(</span><span class="cm">/* ... */</span><span class="p">);</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">tagId0</span><span class="p">,</span> <span class="nx">attachmentId</span><span class="p">);</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">tagId1</span><span class="p">,</span> <span class="nx">attachmentId</span><span class="p">);</span>
</code></pre></div></div>

<p>One problem that might arise is that the <code class="language-plaintext highlighter-rouge">messenger</code> associated with the sandbox doesn’t know any other context of the sandbox, like which tag it is currently mounted in.</p>

<p>We can modify the <a href="sdk_tutorials_htmlsandbox.html#communicating-with-the-sandbox">previous shopping cart example</a> so that we can reuse the same sandbox for every product if we associate each tag with a product instead of creating a separate sandbox for each tag/product pair. For this purpose, we provide a global <code class="language-plaintext highlighter-rouge">tag</code> id to the sandbox.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">[</span><span class="nx">attachmentId</span><span class="p">,</span> <span class="nx">messenger</span><span class="p">]</span> <span class="o">=</span> <span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">registerSandbox</span><span class="p">(</span><span class="s2">`
&lt;button id='add'&gt;Add to Cart&lt;/button&gt;

&lt;script&gt;
const add = document.getElementById('add');

add.addEventListener('click', () =&gt; {
  // send an 'add.to.cart' message with the current tag's id
  window.send('add.to.cart', window.tag);
});
&lt;/script&gt;
`</span><span class="p">);</span>

<span class="kd">const</span> <span class="p">[</span><span class="nx">tagId0</span><span class="p">,</span> <span class="nx">tagId1</span><span class="p">]</span> <span class="o">=</span> <span class="c1">// populated by using `mpSdk.Tag.data`</span>
<span class="c1">// an association between tags and product ids</span>
<span class="kd">const</span> <span class="nx">tagProductMap</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">tagId0</span><span class="p">]:</span> <span class="dl">'</span><span class="s1">p12345</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">[</span><span class="nx">tagId1</span><span class="p">]:</span> <span class="dl">'</span><span class="s1">p54321</span><span class="dl">'</span><span class="p">,</span>
<span class="p">};</span>

<span class="c1">// attach the same sandbox to multiple tags</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">tagId0</span><span class="p">,</span> <span class="nx">attachment</span><span class="p">);</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">attach</span><span class="p">(</span><span class="nx">tagId1</span><span class="p">,</span> <span class="nx">attachment</span><span class="p">);</span>

<span class="c1">// add a 'add.to.cart' handler that will look up the product via the tag's id</span>
<span class="nx">messenger</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">add.to.cart</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">tagId</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">added product: </span><span class="dl">'</span><span class="p">,</span> <span class="nx">tagProductMap</span><span class="p">[</span><span class="nx">tagId</span><span class="p">]);</span>
<span class="p">});</span>
</code></pre></div></div>


    <div class="tags">
        
    </div>

<!-- 
 -->

</div>

<!-- <hr class="shaded"/> -->

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2024 Matterport, Inc. All rights reserved. <br />
 Site last generated: Feb 15, 2024 <br />
<p><img class="footer-logo" src="/showcase-sdk/images/MP-logo_icon-RGB_black.svg" alt="Company logo"/></p>
                </div>
            </div>
</footer>


          </div>
          <!-- /.row -->
        </div>
        <!-- /.container -->
      </div>
      <!-- /#main -->
    </div>

    
  </body>
   <!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-34880260-5','auto');ga('require','displayfeatures');ga('send','pageview');</script>
 
</html>
