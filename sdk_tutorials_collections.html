<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Using Collection Data | Matterport Developers</title>
<link rel="stylesheet" href="/showcase-sdk/css/syntax.css">

<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="/showcase-sdk/css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="/showcase-sdk/css/customstyles.css">
<link rel="stylesheet" href="/showcase-sdk/css/custom.css">
<link rel="stylesheet" href="/showcase-sdk/css/tags2.css">

<link rel="stylesheet" href="/showcase-sdk/css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="/showcase-sdk/css/theme-matterport.css">
<link href="https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,700&display=swap" rel="stylesheet">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/showcase-sdk/js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script>
<script src="/showcase-sdk/js/toc.js"></script>
<script src="/showcase-sdk/js/customscripts.js"></script>
<script src="/showcase-sdk/js/mermaid.min.js"></script>

<link rel="shortcut icon" href="/showcase-sdk/images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="showcase-sdk" href="https://matterport.github.iofeed.xml">

    <script>
      $(document).ready(function () {
        // Initialize navgoco with default options
        $("#mysidebar").navgoco({
          caretHtml: '<i class="fa fa-chevron-down"></i>',
          accordion: true,
          openClass: "active", // open

          save: false, // leave false or nav highlighting doesn't work right
          cookie: {
            name: "navgoco",
            expires: false,
            path: "/",
          },
          slide: {
            duration: 400,
            easing: "swing",
          },
        });

        $("#collapseAll").click(function (e) {
          e.preventDefault();
          $("#mysidebar").navgoco("toggle", false);
        });

        $("#expandAll").click(function (e) {
          e.preventDefault();
          $("#mysidebar").navgoco("toggle", true);
        });
      });
    </script>
    <script>
      $(function () {
        $('[data-toggle="tooltip"]').tooltip();
      });
    </script>
    <script>
      $(document).ready(function () {
        $("#tg-sb-link").change(function () {
          $("#tg-sb-sidebar").toggle();
          $("#tg-sb-content").toggleClass("col-md-9");
          $("#tg-sb-content").toggleClass("col-md-12");
        });
      });
    </script>
     
  </head>
  <body>
    <!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
  <div>
    <div class="row">
      <a class="navbrand col-md-3" href="/"
        >&nbsp;<img
          class="navbar-image"
          src="/showcase-sdk/images/MP-logo_H_lock-RGB_white.svg"
        /><span class="projectTitle"> </span></a
      >
      <div class="dev-nav-links col-md-6">
        <div class="dropdown-items">
          <div class="dropdown ">
            <a class="dropbtn active" href="index.html">SDK Docs</a>
            <div class="dropdown-content">
              <a href="https://matterport.github.io/showcase-sdk/sdk_home.html" class="">SDK for Embeds</a>
              <a href="https://matterport.github.io/showcase-sdk/sdkbundle_home.html" class="" href="#">SDK Bundle</a>
              <a href="https://matterport.github.io/showcase-sdk/earlyaccess_home.html" class="" href="#">SDK Early Access</a>
            </div>
          </div>
          <div class="dropdown">
            <a class="dropbtn" href="api_home.html">API Docs</a>
            <div class="dropdown-content">
              <a href="https://matterport.github.io/showcase-sdk/api_home.html">API Overview</a>
              <a href="https://api.matterport.com/docs/reference" target="_blank">API Reference</a>
              <a href="https://api.matterport.com/model/graphiql" target="_blank">Interactive Console</a>
            </div>
          </div>
          <div class="dropdown">
            <a class="dropbtn" href="https://matterport.com/legal/platform-subscription-agreement#sdk-terms" target="_blank">Terms</a>
          </div>
          <div class="dropdown">
            <a class="dropbtn" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:developer@matterport.com?subject=Showcase SDK feedback&body=I have some feedback about the Using Collection Data page: ' + window.location.href;">Feedback</a>
          </div>
          <div class="dropdown">
            <a class="dropbtn" href="https://matterport.github.io/showcase-sdk/subscribe.html" >
              Subscribe
              <sup class="subscribe-sup" style="font-size: 10px; color: #ff3158">New</sup>
            </a>
          </div>
        </div>
      </div>
      <div class="right-content col-md-3">
        <div class="dev-input-container">
          <!-- Add roboto font to search bar -->
          <img src="/showcase-sdk/images/search_button.png" />
          <input id="search-input" type="text" placeholder="Search"/>
          <div id="results-container"></div>
        </div>
      </div>
    </div>
  </div>
  <!-- /.container -->
</nav>
 
    <!-- Page Content -->
    <div class="dev-page-wrapper">
      <div id="main">
        <!-- Content Row -->
        <div class="row">
          <!-- Sidebar Column -->
          
          <aside class="col-md-3" id="tg-sb-sidebar">
            
<div id="mysidebar" class="nav">
  
  
  

  <li>
      <a title="Overview" href="#">Overview</a>
      <ul>
          
          
          
          <li><a title="Home" href="/showcase-sdk/index.html">Home</a></li>
          
          
          
          
          
          
          <li><a title="Change Log" href="/showcase-sdk/sdk_changelog.html">Change Log</a></li>
          
          
          
          
          
          
          <li><a title="Vocabulary" href="/showcase-sdk/sdk_vocabulary.html">Vocabulary</a></li>
          
          
          
          
          
          
          <li><a title="Concepts" href="/showcase-sdk/sdk_concepts.html">Concepts</a></li>
          
          
          
          
          
          
          <li><a title="Reference Docs Summary" href="/showcase-sdk/sdk_reference_summary.html">Reference Docs Summary</a></li>
          
          
          
          
          
          
          <li><a title="Reference Documentation" href="/showcase-sdk/docs\reference\current\index.html">Reference Documentation</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="SDK for Embeds" href="#">SDK for Embeds</a>
      <ul>
          
          
          
          <li><a title="Home" href="/showcase-sdk/sdk_home.html">Home</a></li>
          
          
          
          
          
          
          <li><a title="HTML Quick Start" href="/showcase-sdk/sdk_quickstart.html">HTML Quick Start</a></li>
          
          
          
          
          
          
          <li><a title="SDK Embed Package" href="/showcase-sdk/sdk_tutorials_package.html">SDK Embed Package</a></li>
          
          
          
          
          
          
          <li><a title="Typescript Declarations" href="/showcase-sdk/sdk_types.html">Typescript Declarations</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="SDK Bundle" href="#">SDK Bundle</a>
      <ul>
          
          
          
          <li><a title="Home" href="/showcase-sdk/sdkbundle_home.html">Home</a></li>
          
          
          
          
          
          
          <li><a title="HTML Quick Start" href="/showcase-sdk/sdkbundle_quickstart.html">HTML Quick Start</a></li>
          
          
          
          
          
          
          <li><a title="Setting up Embed.ly" href="/showcase-sdk/sdkbundle_tutorials_setting_up_embedly.html">Setting up Embed.ly</a></li>
          
          
          
          
          
          
          <li><a title="Setup a Local Environment" href="/showcase-sdk/sdkbundle_tutorials_setup.html">Setup a Local Environment</a></li>
          
          
          
          
          
          
          <li><a title="Architecture" href="/showcase-sdk/sdkbundle_architecture.html">Architecture</a></li>
          
          
          
          <li class="subfolders">
              <a title="Components" href="#">Components</a>
              <ul>
                  
                  
                  
                  <li><a title="Ambient Light" href="/showcase-sdk/sdkbundle_components_ambientlight.html">Ambient Light</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Directional Light" href="/showcase-sdk/sdkbundle_components_directionallight.html">Directional Light</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Point Light" href="/showcase-sdk/sdkbundle_components_pointlight.html">Point Light</a></li>
                  
                  
                  
                  
                  
                  <li><a title="GLTF Loader" href="/showcase-sdk/sdkbundle_components_gltfloader.html">GLTF Loader</a></li>
                  
                  
                  
                  
                  
                  <li><a title="DAE Loader" href="/showcase-sdk/sdkbundle_components_daeloader.html">DAE Loader</a></li>
                  
                  
                  
                  
                  
                  <li><a title="FBX Loader" href="/showcase-sdk/sdkbundle_components_fbxloader.html">FBX Loader</a></li>
                  
                  
                  
                  
                  
                  <li><a title="OBJ Loader" href="/showcase-sdk/sdkbundle_components_objloader.html">OBJ Loader</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Transform Controls" href="/showcase-sdk/sdkbundle_components_transformcontrols.html">Transform Controls</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Input" href="/showcase-sdk/sdkbundle_components_input.html">Input</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Camera" href="/showcase-sdk/sdkbundle_components_camera.html">Camera</a></li>
                  
                  
                  
                  
                  
                  <li><a title="XR" href="/showcase-sdk/sdkbundle_components_xr.html">XR</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="Web Component (Beta)" href="#">Web Component (Beta)</a>
      <ul>
          
          
          
          <li><a title="Home" href="/showcase-sdk/sdkbundle_webcomponent.html">Home</a></li>
          
          
          
          
          
          
          <li><a title="Tutorial" href="/showcase-sdk/sdkbundle_webcomponent_tutorial.html">Tutorial</a></li>
          
          
          
          
          
          
          <li><a title="Advanced" href="/showcase-sdk/sdkbundle_webcomponent_advanced.html">Advanced</a></li>
          
          
          
          
          
          
          <li><a title="Migration from Bundle" href="/showcase-sdk/sdkbundle_webcomponent_migration.html">Migration from Bundle</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="SDK Early Access" href="#">SDK Early Access</a>
      <ul>
          
          
          
          <li><a title="Home" href="/showcase-sdk/earlyaccess_home.html">Home</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="SDK Tutorials" href="#">SDK Tutorials</a>
      <ul>
          
          
          
          <li><a title="SDK Embed Package" href="/showcase-sdk/sdk_tutorials_package.html">SDK Embed Package</a></li>
          
          
          
          
          
          
          <li><a title="Using Observables" href="/showcase-sdk/sdk_tutorials_observables.html">Using Observables</a></li>
          
          
          
          
          
          
          <li class="active"><a title="Using Collections" href="/showcase-sdk/sdk_tutorials_collections.html">Using Collections</a></li>
          
          
          
          <li class="subfolders">
              <a title="Using the Scene Namespace" href="#">Using the Scene Namespace</a>
              <ul>
                  
                  
                  
                  <li><a title="Intro and Basic Components" href="/showcase-sdk/sdk_scene_intro.html">Intro and Basic Components</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Connecting Components" href="/showcase-sdk/sdk_connecting_components.html">Connecting Components</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
          
          
          <li><a title="Creating Tags" href="/showcase-sdk/sdk_creating_mattertags.html">Creating Tags</a></li>
          
          
          
          
          
          
          <li><a title="Editing Tags" href="/showcase-sdk/sdk_editing_mattertags.html">Editing Tags</a></li>
          
          
          
          
          
          
          <li><a title="Tags 2.0 Migration" href="/showcase-sdk/sdk_tutorials_mattertagtotag.html">Tags 2.0 Migration</a></li>
          
          
          
          
          
          
          <li><a title="Tags Code Sandboxes" href="/showcase-sdk/sdk_tutorials_htmlsandbox.html">Tags Code Sandboxes</a></li>
          
          
          
          
          
          
          <li><a title="Pathfinding" href="/showcase-sdk/sdk_tutorials_pathfinding.html">Pathfinding</a></li>
          
          
          
          
          
          
          <li><a title="Pointer Reticle" href="/showcase-sdk/sdk_tutorials_cursor.html">Pointer Reticle</a></li>
          
          
          
          
          
          
          <li><a title="Working with Models" href="/showcase-sdk/sdkbundle_tutorials_models.html">Working with Models</a></li>
          
          
          
          
          
          
          <li><a title="Using xr" href="/showcase-sdk/sdkbundle_tutorials_using_xr.html">Using xr</a></li>
          
          
          
          
          
          
          <li><a title="Using Scene Objects" href="/showcase-sdk/sdkbundle_tutorials_using_scene_objects.html">Using Scene Objects</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="SDK Examples" href="#">SDK Examples</a>
      <ul>
          
          
          
          <li><a title="Navigation Controls" href="/showcase-sdk/sdk_navigation_controls.html">Navigation Controls</a></li>
          
          
          
          
          
          
          <li><a title="Intersection Inspector" href="/showcase-sdk/sdk_intersection_inspector.html">Intersection Inspector</a></li>
          
          
          
          
          
          
          <li><a title="Tags Quiz" href="/showcase-sdk/sdk_tags_quiz.html">Tags Quiz</a></li>
          
          
          
          
          
          
          <li><a title="Tags Quiz - Overlay" href="/showcase-sdk/sdk_tags_quiz_overlay.html">Tags Quiz - Overlay</a></li>
          
          
          
          
          
          
          <li><a title="Kitchen Sink" href="/showcase-sdk/sdk_kitchen_sink.html">Kitchen Sink</a></li>
          
          
          
          
          
          
          <li><a title="Remote Control" href="/showcase-sdk/sdk_remote_control.html">Remote Control</a></li>
          
          
          
          
          
          
          <li><a title="Sensors - Source Areas" href="/showcase-sdk/sdk_sensors_source_areas.html">Sensors - Source Areas</a></li>
          
          
          
          
          
          
          <li><a title="Sensors - Tags Level of Detail" href="/showcase-sdk/sdk_sensors_tags_level_of_detail.html">Sensors - Tags Level of Detail</a></li>
          
          
          
          
          
          
          <li><a title="Sensors - Sweep Control" href="/showcase-sdk/sdk_sensors_sweep_control.html">Sensors - Sweep Control</a></li>
          
          
          
          
          
          
          <li><a title="Virtual Staging" href="/showcase-sdk/sdkbundle_virtual_staging.html">Virtual Staging</a></li>
          
          
          
          
          
          
          <li><a title="Local Webcam" href="/showcase-sdk/sdkbundle_local_webcam.html">Local Webcam</a></li>
          
          
          
          
          
          
          <li><a title="HTML Livestream" href="/showcase-sdk/sdkbundle_html_livestream.html">HTML Livestream</a></li>
          
          
          
          
          
          
          <li><a title="IoT Canvas" href="/showcase-sdk/sdkbundle_iot_canvas.html">IoT Canvas</a></li>
          
          
          
          
          
          
          <li><a title="Custom Experience" href="/showcase-sdk/sdkbundle_custom_experience.html">Custom Experience</a></li>
          
          
          
          
          
          
          <li><a title="Security Camera FOV" href="/showcase-sdk/sdkbundle_security_camera.html">Security Camera FOV</a></li>
          
          
          
          
          
          
          <li><a title="Content Attribution" href="/showcase-sdk/sdkbundle_content_attribution.html">Content Attribution</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="Matterport APIs" href="#">Matterport APIs</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/showcase-sdk/api_home.html">Overview</a></li>
          
          
          
          
          
          
          <li><a title="Reference Docs" href="https://api.matterport.com/model/docs/reference" target="_blank" rel="noopener">Reference Docs</a></li>
          
          
          
          
          
          
          <li><a title="Interactive Console" href="https://api.matterport.com/model/graphiql" target="_blank" rel="noopener">Interactive Console</a></li>
          
          
          
          <li class="subfolders">
              <a title="Model API" href="#">Model API</a>
              <ul>
                  
                  
                  
                  <li><a title="Changelog" href="/showcase-sdk/modelapi_changelog.html">Changelog</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Models Queries" href="/showcase-sdk/modelapi_models_ref.html">Models Queries</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Sample Queries" href="/showcase-sdk/modelapi_snippets.html">Sample Queries</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Ordering Add-Ons" href="/showcase-sdk/modelapi_ordering_addons.html">Ordering Add-Ons</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Views and Layers" href="/showcase-sdk/modelapi_views_and_layers.html">Views and Layers</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Tags Icon Reference" href="/showcase-sdk/tags_icons_reference.html">Tags Icon Reference</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Postman Collection" href="/showcase-sdk/modelapi_postman.html">Postman Collection</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          <li class="subfolders">
              <a title="Property Intelligence" href="#">Property Intelligence</a>
              <ul>
                  
                  
                  
                  <li><a title="Overview" href="/showcase-sdk/modelapi_property_intelligence.html">Overview</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Dimension Estimates" href="/showcase-sdk/modelapi_pi_dimension_estimates.html">Dimension Estimates</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Room Names" href="/showcase-sdk/modelapi_pi_room_names.html">Room Names</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Vector Data" href="/showcase-sdk/modelapi_pi_vector_data.html">Vector Data</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Mutations" href="/showcase-sdk/modelapi_pi_mutations.html">Mutations</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          <li class="subfolders">
              <a title="Account API" href="#">Account API</a>
              <ul>
                  
                  
                  
                  <li><a title="Account API Changelog" href="/showcase-sdk/accountapi_changelog.html">Account API Changelog</a></li>
                  
                  
                  
                  
                  
                  <li><a title="Sample Queries" href="/showcase-sdk/accountapi_snippets.html">Sample Queries</a></li>
                  
                  
                  
              </ul>
          </li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="OAuth" href="#">OAuth</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/showcase-sdk/oauth_home.html">Overview</a></li>
          
          
          
          
          
          
          <li><a title="Implementation" href="/showcase-sdk/oauth_implementation.html">Implementation</a></li>
          
          
          
          
          
          
          <li><a title="Model Selector" href="/showcase-sdk/oauth_model_selector.html">Model Selector</a></li>
          
          
          
          
          
          
          <li><a title="Use Case - Model API" href="/showcase-sdk/oauth_model_api.html">Use Case - Model API</a></li>
          
          
          
          
          
          
          <li><a title="Use Case - Private Models" href="/showcase-sdk/oauth_sdk_private_model.html">Use Case - Private Models</a></li>
          
          
          
          
          
          
          <li><a title="OAuth Sample Application" href="/showcase-sdk/sdkbundle_tutorials_using_oauth.html">OAuth Sample Application</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="Private Model Embed" href="#">Private Model Embed</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/showcase-sdk/oauth_private_model_embed.html">Overview</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="Webhooks" href="#">Webhooks</a>
      <ul>
          
          
          
          <li><a title="Overview" href="/showcase-sdk/webhooks_home.html">Overview</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  

  <li>
      <a title="Learn More" href="#">Learn More</a>
      <ul>
          
          
          
          <li><a title="Developer Tools Overview" href="https://support.matterport.com/s/article/API-SDK-Developer-Tools-Overview" target="_blank" rel="noopener">Developer Tools Overview</a></li>
          
          
          
          
          
          
          <li><a title="Pricing and Availability" href="https://support.matterport.com/s/article/Developer-Tools-Pricing-and-Availability" target="_blank" rel="noopener">Pricing and Availability</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</div>
<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>
<script src="/showcase-sdk/js/jekyll-search.js" type="text/javascript"></script>
<script type="text/javascript">
        SimpleJekyllSearch.init({
            searchInput: document.getElementById('search-input'),
            resultsContainer: document.getElementById('results-container'),
            dataSource: '/showcase-sdk/search.json',
            searchResultTemplate: '<li><a href="{url}" title="Using Collection Data">{title}</a></li>',
noResultsText: '<li><div>No results found.<div></li>',
        limit: 10,
        fuzzy: true,
})
</script>

          </aside>
           
          <!-- Content Column -->
          <div
            class=" col-md-9" 
            id="tg-sb-content"
          >
            <div class="post-header">
   <h1 class="post-title-main">Using Collection Data</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    

   <p>The SDK provides access to collections of state objects through <a href="docs/reference/current/interfaces/iobservablemap.html"><code class="language-plaintext highlighter-rouge">ObservableMaps</code></a> or colloquially as “Collections”. MapObservers (“Observers”) can subscribe to Collections to watch and receive updates of the items within a state collection.</p>

<p>Collections are an extension of our standard <a href="sdk_tutorials_observables.html">Observables</a>; therefore, there are a lot of similarities to the way the SDK provides other state through Observables. As such, some of this document may be redundant with the documentation for Observables.</p>

<h2 id="receiving-state-from-a-collection">Receiving State from a Collection</h2>
<p>The state of a collection is provided by subscribing to a Collection.
Collections always provide an up-to-date view of its state to all of its subscribed Observers.</p>

<p>Observers support the following four callbacks that map to the four operations that describe how a Collection has changed.</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">onAdded</code>: when an item is added</li>
  <li><code class="language-plaintext highlighter-rouge">onRemoved</code>: when an item is removed</li>
  <li><code class="language-plaintext highlighter-rouge">onUpdated</code>: when an item is updated</li>
  <li><code class="language-plaintext highlighter-rouge">onCollectionUpdated</code>: when the collection has changed in some way (an aggregate of the previous three operations)</li>
</ul>

<p>Each of these callbacks are optional for each Observer to implement.</p>

<p>With our Observable Collection implementation:</p>
<ul>
  <li>when first subscribing an Observer to a Collection, the Observer will always be called back through its <code class="language-plaintext highlighter-rouge">onAdded</code> with all existing items in the Collection and its <code class="language-plaintext highlighter-rouge">onCollectionUpdated</code> with the full collection of items</li>
  <li>all subscribed Observers will be called back when there are any changes to the items in the collection</li>
  <li>subscribing multiple Observers to a single Collection does not increase the complexity of calculating the state of the Collection</li>
  <li>the Collection state used in the Observers’ callbacks is cached and shared between all Observers</li>
</ul>

<h3 id="observing-how-a-collection-has-changed">Observing How a Collection has Changed</h3>
<p>An Observer can have up to four callbacks that match the available operations supported by the Collection. All callbacks are optional. An Observer can have any of <code class="language-plaintext highlighter-rouge">onAdded</code>, <code class="language-plaintext highlighter-rouge">onRemoved</code>, <code class="language-plaintext highlighter-rouge">onUpdated</code>, <code class="language-plaintext highlighter-rouge">onCollectionUpdated</code> callbacks.</p>

<p>An Observer that supports all four operations and watches the tag state will look something like this:</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">type</span> <span class="nx">TagItem</span> <span class="o">=</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">TagData</span><span class="p">;</span>
<span class="kd">class</span> <span class="nx">TagObserver</span> <span class="k">implements</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">IObservableMap</span><span class="o">&lt;</span><span class="nx">TagItem</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="nx">onAdded</span><span class="p">(</span><span class="na">index</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="na">tag</span><span class="p">:</span> <span class="nx">TagItem</span><span class="p">,</span> <span class="na">collection</span><span class="p">:</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">Dictionary</span><span class="o">&lt;</span><span class="nx">TagItem</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`an item at index </span><span class="p">${</span><span class="nx">index</span><span class="p">}</span><span class="s2"> was added`</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">onRemoved</span><span class="p">(</span><span class="na">index</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="na">tag</span><span class="p">:</span> <span class="nx">TagItem</span><span class="p">,</span> <span class="na">collection</span><span class="p">:</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">Dictionary</span><span class="o">&lt;</span><span class="nx">TagItem</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`an item at index </span><span class="p">${</span><span class="nx">index</span><span class="p">}</span><span class="s2"> was removed`</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">onUpdated</span><span class="p">(</span><span class="na">index</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="na">tag</span><span class="p">:</span> <span class="nx">TagItem</span><span class="p">,</span> <span class="na">collection</span><span class="p">:</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">Dictionary</span><span class="o">&lt;</span><span class="nx">TagItem</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`an item at index </span><span class="p">${</span><span class="nx">index</span><span class="p">}</span><span class="s2"> was updated`</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">onCollectionUpdated</span><span class="p">(</span><span class="na">collection</span><span class="p">:</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">Dictionary</span><span class="o">&lt;</span><span class="nx">TagItem</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`the collection has changed in some way`</span><span class="p">);</span>
  <span class="p">},</span>
<span class="p">}</span>

<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="k">new</span> <span class="nx">TagObserver</span><span class="p">());</span>
</code></pre></div></div>

<h3 id="observing-when-the-collection-has-changed">Observing When the Collection has Changed</h3>
<p>If the individual changes aren’t important and all that’s needed is an up-to-date view of the Collection, only the <code class="language-plaintext highlighter-rouge">onCollectionUpdated</code> needs implementing.</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">type</span> <span class="nx">TagItem</span> <span class="o">=</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">TagData</span><span class="p">;</span>
<span class="kd">class</span> <span class="nx">TagObserver</span> <span class="k">implements</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">IObservableMap</span><span class="o">&lt;</span><span class="nx">TagItem</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="nx">onCollectionUpdated</span><span class="p">(</span><span class="na">collection</span><span class="p">:</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">Dictionary</span><span class="o">&lt;</span><span class="nx">TagItem</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`the full collection is now`</span><span class="p">,</span> <span class="nx">collection</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="k">new</span> <span class="nx">TagObserver</span><span class="p">());</span>
</code></pre></div></div>

<h3 id="using-multiple-observers">Using Multiple Observers</h3>
<p>One of the most important topics to understand about Collections is how Observers are notified of changes within the Collection.</p>

<p>When an Observer has been created but not yet subscribed to the Collection, it’s “current view” of the state is undefined. It doesn’t know anything about what it’s observing yet.
When first subscribed, all items that are in the Collection have not been observed yet so it will trigger its <code class="language-plaintext highlighter-rouge">onAdded</code> callback for each item that it now sees.
Once the Observer has seen all the “new” items, it triggers its <code class="language-plaintext highlighter-rouge">onCollectionUpdated</code> callback to signify that the collection has updated in some way.
Now as things are added, removed, or updated in the Collection, the Observer will observe those changes, update its internal view to reflect what it sees happening in the Collection, and trigger the appropriate <code class="language-plaintext highlighter-rouge">onAdded</code>, <code class="language-plaintext highlighter-rouge">onRemoved</code>, and <code class="language-plaintext highlighter-rouge">onUpdated</code> callbacks, followed by an <code class="language-plaintext highlighter-rouge">onCollectionUpdated</code> call.</p>

<p>When a second Observer is created, it also starts with an undefined “current view” of the state. When it subscribes to the Collection, all items in the Collection are “new” to the Observer and will trigger an <code class="language-plaintext highlighter-rouge">onAdded</code> callback for each item it now sees. Afterward, it follows the same path for adding, removing, and updating items in its internal view separate from other Observers.</p>

<p>As an example of getting and observing when Tags are added to the Tag Collection:</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">type</span> <span class="nx">TagItem</span> <span class="o">=</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">TagData</span><span class="p">;</span>
<span class="kd">class</span> <span class="nx">TagObserver</span> <span class="k">implements</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">IObservableMap</span><span class="o">&lt;</span><span class="nx">TagItem</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="nx">onAdded</span><span class="p">(</span><span class="na">index</span><span class="p">:</span> <span class="kr">string</span><span class="p">,</span> <span class="na">tag</span><span class="p">:</span> <span class="nx">TagItem</span><span class="p">,</span> <span class="na">collection</span><span class="p">:</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">Dictionary</span><span class="o">&lt;</span><span class="nx">TagItem</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`an item at index </span><span class="p">${</span><span class="nx">index</span><span class="p">}</span><span class="s2"> was added`</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// subscribing a new Observer will trigger its `onAdded` for each Tag in the Collection</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="k">new</span> <span class="nx">TagObserver</span><span class="p">());</span>

<span class="c1">// subscribing a second Observer will ALSO trigger its `onAdded` for each Tag in the Collection</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="k">new</span> <span class="nx">TagObserver</span><span class="p">());</span>
</code></pre></div></div>

<h3 id="shutting-down-an-observer">Shutting down an Observer</h3>
<p>When updates to state are no longer required, Observers should be removed from the Observable. When subscribing to an Observable, an <a href="docs/reference/current/interfaces/isubscription.html"><code class="language-plaintext highlighter-rouge">ISubscription</code></a> object is returned. The <code class="language-plaintext highlighter-rouge">ISubscription</code> object is the object used to remove the subscribed Observer and stop any callback it would have received.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">tagSubscription</span> <span class="o">=</span> <span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span>
  <span class="nx">onAdded</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">collection</span><span class="p">)</span> <span class="p">{</span> <span class="p">},</span>
<span class="p">});</span>

<span class="c1">// ... some time later</span>
<span class="nx">tagSubscription</span><span class="p">.</span><span class="nx">cancel</span><span class="p">();</span>
<span class="c1">// from here on, the Observer's associated with `tagSubscription` will no longer be called back</span>
</code></pre></div></div>

<h3 id="cloning-an-observers-view-of-the-collection">Cloning an Observer’s View of the Collection</h3>
<p>Because the items passed to the Observers’ callbacks are shared references to the item in the collection, and the collection argument is also a shared reference to the cache, any mutations done to either object will be seen by all Observers and can potentially be blown away by updates to the Collection or its data.
If a snapshot of the Collection or its items is needed, cloning one or both objects is necessary, making sure to clone the items’ nested arrays and objects, and possibly slicing its strings.</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">type</span> <span class="nx">TagItem</span> <span class="o">=</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">TagData</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">tagView</span><span class="p">:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="nx">TagItem</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span>
  <span class="nx">onAdded</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">collection</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tagView</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
      <span class="p">...</span><span class="nx">tag</span><span class="p">,</span>
      <span class="na">anchorPosition</span><span class="p">:</span> <span class="p">{</span> <span class="p">...</span><span class="nx">tag</span><span class="p">.</span><span class="nx">anchorPosition</span> <span class="p">},</span>
      <span class="na">attachments</span><span class="p">:</span> <span class="p">[</span> <span class="p">...</span><span class="nx">tag</span><span class="p">.</span><span class="nx">attachments</span> <span class="p">],</span>
      <span class="na">color</span><span class="p">:</span> <span class="p">{</span> <span class="p">...</span><span class="nx">tag</span><span class="p">.</span><span class="nx">color</span> <span class="p">},</span>
      <span class="na">description</span><span class="p">:</span> <span class="nx">tag</span><span class="p">.</span><span class="nx">description</span><span class="p">.</span><span class="nx">slice</span><span class="p">(),</span>
      <span class="na">id</span><span class="p">:</span> <span class="nx">tag</span><span class="p">.</span><span class="nx">id</span><span class="p">.</span><span class="nx">slice</span><span class="p">(),</span>
      <span class="na">label</span><span class="p">:</span> <span class="nx">tag</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">slice</span><span class="p">(),</span>
      <span class="na">roomId</span><span class="p">:</span> <span class="nx">tag</span><span class="p">.</span><span class="nx">roomId</span><span class="p">.</span><span class="nx">slice</span><span class="p">(),</span>
      <span class="na">stemVector</span><span class="p">:</span> <span class="p">{</span> <span class="p">...</span><span class="nx">tag</span><span class="p">.</span><span class="nx">stemVector</span> <span class="p">},</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="benefits-of-observable-collections">Benefits of Observable Collections</h2>
<p>Like standard Observables, Collections provide many of the same benefits over our previous implementations of state.</p>

<h3 id="less-boilerplate">Less Boilerplate</h3>
<p>Before Collections, events (<code class="language-plaintext highlighter-rouge">on</code>) could be used to watch for some collections of state. However, events can be missed. Getting the state of infrequently changing data required polling the data using something like <code class="language-plaintext highlighter-rouge">getData</code> to seed the data if the event is missed.</p>

<p><strong>DON’T</strong>: Setting up a <code class="language-plaintext highlighter-rouge">Label.POSITION_UPDATED</code> handler and seeding the data using <code class="language-plaintext highlighter-rouge">getData</code> is very verbose.</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">labels</span><span class="p">:</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">Label</span><span class="p">.</span><span class="nx">Label</span><span class="p">[];</span>
<span class="kd">function</span> <span class="nx">updateLabels</span><span class="p">(</span><span class="nx">updatedLabels</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">labels</span> <span class="o">=</span> <span class="nx">updatedLabels</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// listen for label changes</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Label</span><span class="p">.</span><span class="nx">POSITION_UPDATED</span><span class="p">,</span> <span class="nx">updateLabels</span><span class="p">);</span>
<span class="c1">// poll the data once in case the `POSITION_UPDATED` event hasn't fired yet</span>
<span class="nx">labels</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Label</span><span class="p">.</span><span class="nx">getData</span><span class="p">();</span>
</code></pre></div></div>

<p><strong>DO</strong>: Use a Collection to reduce the above example to only one call: its <code class="language-plaintext highlighter-rouge">subscribe</code> function.</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">tags</span><span class="p">:</span> <span class="nx">MpSdk</span><span class="p">.</span><span class="nx">Dictionary</span><span class="o">&lt;</span><span class="nx">MpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">TagData</span><span class="o">&gt;</span><span class="p">;</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span>
  <span class="c1">// NOTE: this is only saving the reference to the shared `collection`...</span>
  <span class="c1">// ...It will update as the collection changes</span>
  <span class="nx">onCollectionUpdated</span><span class="p">(</span><span class="nx">collection</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">tags</span> <span class="o">=</span> <span class="nx">collection</span><span class="p">;</span>
   <span class="p">},</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="more-granular-and-descriptive-updates">More Granular and Descriptive Updates</h3>
<p>Collections express the extent of their changes to Observers.</p>

<p><strong>DON’T</strong>: Tracking differences between multiple “get” calls is complex, verbose, and error-prone</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">mattertagData</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Mattertag</span><span class="p">.</span><span class="nx">getData</span><span class="p">();</span>

<span class="kd">const</span> <span class="nx">newMattertagData</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Mattertag</span><span class="p">.</span><span class="nx">getData</span><span class="p">();</span>

<span class="c1">// check and save references in the "new" data as compared to the previous data</span>
<span class="kd">const</span> <span class="nx">newTags</span> <span class="o">=</span> <span class="p">[];</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">newMattertagData</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">mattertagData</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">key</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">newTags</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">newMattertagData</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// check what has been removed</span>
<span class="c1">// ...</span>
<span class="c1">// check what has been updated</span>
<span class="c1">// ...</span>
</code></pre></div></div>

<p><strong>DO</strong>: Let the Collection figure out what has changed and how</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span>
  <span class="nx">onAdded</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">tag</span><span class="p">,</span> <span class="nx">collection</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`a new tag at </span><span class="p">${</span><span class="nx">index</span><span class="p">}</span><span class="s2"> was added to the collection`</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div></div>

<h3 id="better-efficiency">Better Efficiency</h3>
<p>Another benefit to Collections is that once subscribed, Observers are only called when changes occur. When a “get” call would return the same state as the previous call, it is doing unnecessary work. The excessive “get” calls and extra work done for each call are a potential for decreasing the performance of the application.</p>

<p><strong>DON’T</strong>: Polling the current set of Mattertags by using an update loop triggers unnecessary updates</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">updateMattertagData</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">mattertagData</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Mattertag</span><span class="p">.</span><span class="nx">getData</span><span class="p">();</span>
  <span class="nx">requestAnimationFrame</span><span class="p">(</span><span class="nx">updateMattertagData</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">requestAnimationFrame</span><span class="p">(</span><span class="nx">updateMattertagData</span><span class="p">);</span>
</code></pre></div></div>

<p><strong>DO</strong>: Use the Collection to track state and automatically update only as needed</p>
<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// only called on first subscribe and when the Tag collection has changed</span>
<span class="nx">mpSdk</span><span class="p">.</span><span class="nx">Tag</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">({</span>
  <span class="nx">onCollectionUpdated</span><span class="p">(</span><span class="nx">collection</span><span class="p">)</span> <span class="p">{},</span>
<span class="p">});</span>
</code></pre></div></div>


    <div class="tags">
        
    </div>

<!-- 
 -->

</div>

<!-- <hr class="shaded"/> -->

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2024 Matterport, Inc. All rights reserved. <br />
 Site last generated: Jul 4, 2024 <br />
<p><img class="footer-logo" src="/showcase-sdk/images/MP-logo_icon-RGB_black.svg" alt="Company logo"/></p>
                </div>
            </div>
</footer>


          </div>
          <!-- /.row -->
        </div>
        <!-- /.container -->
      </div>
      <!-- /#main -->
    </div>

    
  </body>
   <!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-34880260-5','auto');ga('require','displayfeatures');ga('send','pageview');</script>
 
</html>
